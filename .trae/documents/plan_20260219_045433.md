# DSM 上传测试计划

## 问题分析
由于在网上难以找到直接可下载的小型 terrain 测试数据，我们可以采用以下两种方案：

---

## 方案一：创建模拟测试文件

创建一个简单的测试 ZIP 文件，包含基本的 3D Tiles 结构：
- `tileset.json` - 入口文件
- 模拟的 tile 数据

**优点**: 快速验证上传流程
**缺点**: 不是真实的地形数据

---

## 方案二：使用 curl 直接测试 API

使用 curl 命令直接测试后端 API 是否正常工作：

```bash
# 创建测试文件
echo '{"asset":{"version":"1.0"},"geometricError":4096,"root":{"boundingVolume":{"box":[0,0,0,1,0,0,0,1,0,0,0,1]},"geometricError":0,"refine":"ADD"}}' > tileset.json
zip test-terrain.zip tileset.json

# 上传测试
curl -X POST "http://10.39.29.101:6789/map/api/v1/workspaces/{workspace_id}/maps/upload" \
  -H "x-auth-token: {your_token}" \
  -F "file=@test-terrain.zip" \
  -F "map_name=Test Terrain" \
  -F "map_format=3dtiles"
```

---

## 方案三：检查后端服务状态

1. 检查后端服务是否正在运行
2. 检查日志文件是否有错误
3. 验证数据库连接是否正常

---

## 执行步骤

1. 检查后端服务状态
2. 创建测试文件
3. 使用 curl 测试 API
4. 检查数据库和 MinIO 是否有数据

## 预计需要: 创建测试文件 + 运行测试命令
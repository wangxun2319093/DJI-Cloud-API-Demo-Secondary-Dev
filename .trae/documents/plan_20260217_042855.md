## 问题总结

### 根本原因

Redis 缓存中 `GATEWAYSIM001.child_device_sn` 仍是旧值 `DRONE_SIM001`，但数据库已更新为 `DRONE_GATEWAY_001`。模拟器没有发送 status 消息来触发 Redis 更新。

### 解决方案

**步骤 1：清除 Redis 缓存**

```bash
redis-cli -h 118.195.150.246 -p 6004 -n 2 DEL "online:GATEWAYSIM001" "online:DRONE_SIM001"
```

**步骤 2：重启模拟器**
模拟器启动时会发送 `sys/product/GATEWAYSIM001/status` 消息，后端会：

1. 从数据库读取设备配置
2. 创建 Redis 缓存（使用正确的 child\_sn）
3. 注册 `online:DRONE_GATEWAY_001`

**预期结果**

* `DRONE_GATEWAY_001` 将显示为在线状态

* 前端 Online Devices 页面将展示无人机数据


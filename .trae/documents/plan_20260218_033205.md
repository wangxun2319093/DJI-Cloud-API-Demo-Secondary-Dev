## 问题分析

### 数据流程
1. **Status 消息** → 后端注册设备 → 订阅相关 topic
2. **OSD 消息** → 后端根据 `gateway` 字段路由 → 推送到 WebSocket → 前端显示

### 根本问题
后端路由逻辑：
- `gateway` 字段决定 OSD 数据路由到哪个处理器
- RC 类型（type=119）→ `OsdRcDrone` → 前端 Online Devices
- DOCK 类型（type=1）→ `OsdDockDrone` → 前端 Dock 面板

当前模拟器问题：
1. 无人机 OSD 的 `gateway` 字段始终是 `DOCKSIM001`
2. 后端将其路由到 `OsdDockDrone`，而不是 `OsdRcDrone`
3. 前端 Online Devices 面板期望的是 `OsdRcDrone` 数据

### 解决方案

**重写模拟器，严格按照大疆上云API标准：**

1. **分离设备组合**：
   - Dock 组合：Dock + Drone（gateway=Dock）
   - Gateway 组合：RC + Drone（gateway=RC）

2. **Status 消息格式**：
   - Dock status: `sys/product/DOCKSIM001/status`
   - Gateway status: `sys/product/GATEWAYSIM001/status`
   - 包含正确的 domain、type、sub_type

3. **OSD 消息格式**：
   - Dock OSD: `thing/product/DOCKSIM001/osd`，gateway=DOCKSIM001
   - Gateway OSD: `thing/product/GATEWAYSIM001/osd`，gateway=GATEWAYSIM001
   - Drone OSD (Dock): `thing/product/DRONESIM001/osd`，gateway=DOCKSIM001
   - Drone OSD (Gateway): `thing/product/DRONESIM001/osd`，gateway=GATEWAYSIM001

4. **字段命名**：使用 snake_case（后端会自动转换）

### 修改文件
- `simulator/device_simulator.py` - 重写主逻辑
- `models/drone.py` - 确保 OSD 字段正确
- `models/gateway.py` - 确保 Gateway OSD 字段正确
- `models/dock.py` - 确保 Dock OSD 字段正确
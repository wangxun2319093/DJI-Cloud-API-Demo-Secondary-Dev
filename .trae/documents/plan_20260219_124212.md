# CreateMapModal.vue 上传问题修复

## 问题分析

### 问题 1: `beforeUpload` 返回值问题
`beforeUpload` 函数在验证通过时返回 `false`，这会阻止 Ant Design Vue 自动上传，但文件对象可能没有正确保存到 `fileList`。

### 问题 2: 文件对象获取问题
```javascript
const file = fileList.value[0]?.originFileObj || fileList.value[0]
```
这个逻辑可能无法正确获取文件对象。

---

## 修复方案

### 1. 修改 `beforeUpload` 函数
返回 `false` 来阻止自动上传，但需要确保文件被正确添加到 `fileList`。

### 2. 添加调试日志
在 `handleConfirm` 中添加日志，帮助诊断问题。

### 3. 修复文件获取逻辑
确保正确获取文件对象。

---

## 需要修改的文件
- `front/src/components/mapdsm/CreateMapModal.vue`